(this.webpackJsonptrain_typescript=this.webpackJsonptrain_typescript||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(1),n=c(16),r=c.n(n),i=c(2),l=c(4),j=c(5),h=function(e){var t=e.split("-")[2];return new Date(e).toString().split(" ")[0]+" "+t},o=(c(23),c.p+"static/media/error.ed78222e.png"),d=(c(24),function(){return Object(a.jsx)("div",{className:"loader_block",children:Object(a.jsx)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"svg_loader",children:Object(a.jsx)("circle",{cx:"50",cy:"50",r:"35",className:"circle_loader"})})})}),p=function(e){var t=Object(s.useState)(e.search),c=Object(l.a)(t,2),n=c[0],r=c[1],h=Object(i.f)();return Object(a.jsxs)("div",{className:"search_section",children:[Object(a.jsx)(j.b,{to:"/",children:Object(a.jsx)("span",{className:"title_header",children:"WeatherApp"})}),Object(a.jsxs)("div",{className:"search_container",children:[Object(a.jsx)("input",{type:"text",className:"search_input",value:n,onChange:function(e){r(e.target.value)},onKeyPress:function(e){"Enter"===e.code&&(h.push("typescript_WeatherApp/forecast/"+n),h.go(0))}}),Object(a.jsx)("div",{className:"searchIcon",children:Object(a.jsx)("span",{className:"material-icons-round",children:"search"})})]})]})},m=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(""),m=Object(l.a)(r,2),b=m[0],u=m[1],O=Object(s.useState)(!1),x=Object(l.a)(O,2),f=x[0],_=x[1];Object(s.useEffect)((function(){k()}),[]);var w=Object(i.g)(),v=new Date,N=String(v.getDate()).padStart(2,"0"),g=String(v.getMonth()+1).padStart(2,"0"),y=v.getFullYear(),k=function(){var e="https://api.openweathermap.org/data/2.5/forecast?q="+w.city+"&appid=a7ac1ce283f0e25dc2333628430f7cad";fetch(e).then((function(e){return e.json()})).then((function(e){if(u(e.cod),200==e.cod){for(var t=e.list.map((function(e){return e.dt_txt.split(" ")[0]})).filter((function(e,t,c){return c.indexOf(e)===t})),c=[],a=0;a<t.length;a++)c.push({date:t[a],weather:[],main:[]});var s,r=g+"/"+N+"/"+y,i=[];if(e.list.map((function(e){var t=e.dt_txt.split("-"),c=t[0];t[1]+"/"+t[2].split(" ")[0]+"/"+c===r&&i.push(e)})),1===i.length)s={weather:[{temp:i.map((function(e){return e.main.temp})),feels_like:i.map((function(e){return e.main.feels_like}))}],main:[{icon:i[0].weather.map((function(e){return e.icon})).toString()}]};else{var l=[],j=[];i.map((function(e){l.push(e.main.temp),j.push(e.main.feels_like)})),s={weather:[{temp:Math.round(l.reduce((function(e,t){return e+t}))/l.length),feels_like:Math.round(j.reduce((function(e,t){return e+t}))/j.length)}],main:[{icon:i[0].weather.map((function(e){return e.icon})).toString()}]}}e.list.filter((function(e){return e.dt_txt.includes("15:00:00")})).map((function(e){for(var t=e.dt_txt.split(" ")[0],a=0;a<c.length;a++)c[a].date===t&&(c[a].weather.push(e.main),c[a].main.push(e.weather[0]))}));var h=[{city:{id:e.city.id,name:e.city.name},list:c}];h[0].list[0].weather=s.weather,h[0].list[0].main=s.main,n(h)}_(!0)}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(p,{search:w.city}),Object(a.jsx)("div",{className:"main_container",children:f?Object(a.jsx)("div",{children:"200"!==b?Object(a.jsxs)("div",{className:"error_weather",children:[Object(a.jsx)("img",{src:o,alt:"Error",className:"error_image"}),Object(a.jsx)("span",{className:"error_text",children:"The city was not found! Or it could be an error with the API"})]}):Object(a.jsx)("div",{children:c.map((function(e,t){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:"title_weather",children:e.city.name}),Object(a.jsx)("div",{className:"weather_container",children:e.list.slice(0,5).map((function(e,t){var c=y+"-"+g+"-"+N;return Object(a.jsx)(j.b,{to:"typescript_WeatherApp/"+w.city+"/"+e.date.split("-")[2],className:"weather_date_container",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"weather_date",children:e.date===c?"Today":h(e.date)}),e.weather.map((function(e,t){return Object(a.jsxs)("div",{className:"weather_info_container",children:[Object(a.jsxs)("span",{className:"weather_temp",children:[Math.round(e.temp-273.15),"\xb0"]}),Object(a.jsxs)("span",{className:"weather_feels",children:[Math.round(e.feels_like-273.15),"\xb0"]})]},t)})),e.main.map((function(e,t){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e.icon.slice(0,-1),"d@2x.png"),alt:""})},t)}))]},t)},t)}))})]},e.city.id)}))})}):Object(a.jsx)("div",{className:"loader_block_comments",children:Object(a.jsx)(d,{})})})]})},b=function(e){var t=Object(s.useState)([]),c=Object(l.a)(t,2),n=c[0],r=c[1];return Object(s.useEffect)((function(){var t="http://api.openweathermap.org/data/2.5/weather?q="+e.title+"&appid=a7ac1ce283f0e25dc2333628430f7cad";fetch(t).then((function(e){return e.json()})).then((function(e){e.weather=e.weather[0],r([e])}))}),[e.title]),Object(a.jsx)(j.b,{to:"/forecast/"+e.title,className:"recommend_block",children:Object(a.jsx)("div",{children:n.map((function(e,t){return Object(a.jsxs)("div",{className:"title_block",children:[Object(a.jsx)("span",{className:"rec_title",children:e.name}),Object(a.jsxs)("div",{className:"weather_info_container",children:[Object(a.jsxs)("span",{className:"weather_temp",children:[Math.round(e.main.temp-273.15),"\xb0"]}),Object(a.jsxs)("span",{className:"weather_feels",children:[Math.round(e.main.feels_like-273.15),"\xb0"]})]}),Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e.weather.icon.slice(0,-1),"d@2x.png"),alt:""})})]},t)}))})})},u=(c(30),function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(i.f)();return Object(a.jsxs)("div",{className:"main_section",children:[Object(a.jsx)(j.b,{to:"typescript_WeatherApp/",className:"weather_header weather_header_padding",children:Object(a.jsx)("span",{className:"title_header_weather",children:"WeatherApp"})}),Object(a.jsxs)("div",{className:"main_seatch_rec_block",children:[Object(a.jsxs)("div",{className:"search_main_container",children:[Object(a.jsx)("input",{type:"text",className:"search_input",placeholder:"City",onChange:function(e){n(e.target.value)},onKeyPress:function(e){"Enter"===e.code&&r.push("typescript_WeatherApp/forecast/"+c)}}),Object(a.jsx)("div",{className:"searchIcon",children:Object(a.jsx)("span",{className:"material-icons-round",children:"search"})})]}),Object(a.jsxs)("div",{className:"recommend_section",children:[Object(a.jsx)(b,{title:"New York"}),Object(a.jsx)(b,{title:"London"}),Object(a.jsx)(b,{title:"Paris"}),Object(a.jsx)(b,{title:"Amsterdam"})]})]}),Object(a.jsxs)("span",{className:"footer_txt",children:["Made by ",Object(a.jsx)("a",{href:"https://github.com/Arboker",children:"Denis Lupookov"})]})]})}),O=(c(31),function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(!1),h=Object(l.a)(r,2),p=h[0],m=h[1],b=Object(s.useState)(!0),u=Object(l.a)(b,2),O=u[0],x=u[1],f=Object(i.g)();return Object(s.useEffect)((function(){var e="https://api.openweathermap.org/data/2.5/forecast?q="+f.city+"&appid=a7ac1ce283f0e25dc2333628430f7cad";fetch(e).then((function(e){return e.json()})).then((function(e){if(200==e.cod){x(!1);var t=e.list.filter((function(e){return e.dt_txt.split(" ")[0].split("-")[2]===f.day}));0===t.length&&m(!0),n(t)}else x(!1),m(!0)}))}),[f.city,f.day]),Object(a.jsxs)("div",{className:"weather_section",children:[Object(a.jsx)(j.b,{to:"typescript_WeatherApp/",className:"weather_header",children:Object(a.jsx)("span",{className:"title_header_weather",children:"WeatherApp"})}),Object(a.jsxs)("div",{className:"weather_main_container",children:[Object(a.jsx)("h2",{className:"title_main_weather",children:f.city}),Object(a.jsx)("div",{className:"weather_main_block",children:O?Object(a.jsx)("div",{className:"loader_block",children:Object(a.jsx)(d,{})}):Object(a.jsx)(a.Fragment,{children:p?Object(a.jsx)("div",{className:"error_weather",children:Object(a.jsxs)("div",{className:"error_weather",children:[Object(a.jsx)("img",{src:o,alt:"Error",className:"error_image"}),Object(a.jsx)("span",{className:"error_text",children:"The data was not found!"})]})}):Object(a.jsx)(a.Fragment,{children:c.map((function(e,t){return Object(a.jsxs)("div",{className:"weather_main_date_container",children:[Object(a.jsx)("span",{className:"weather_date",children:(c=e.dt_txt,c.split(" ")[1])}),Object(a.jsxs)("div",{className:"weather_info_container",children:[Object(a.jsxs)("span",{className:"weather_temp",children:[Math.round(e.main.temp-273.15),"\xb0"]}),Object(a.jsxs)("span",{className:"weather_feels",children:[Math.round(e.main.feels_like-273.15),"\xb0"]})]},t),e.weather.map((function(e,t){return Object(a.jsxs)("div",{className:"weather_info_container__sub",children:[Object(a.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e.icon.slice(0,-1),"d@2x.png"),alt:""}),Object(a.jsxs)("div",{className:"info_weather",children:[Object(a.jsx)("span",{className:"weather_main_title",children:e.main}),Object(a.jsx)("span",{className:"weather_description",children:e.description})]})]},t)}))]},t);var c}))})})})]}),Object(a.jsxs)("span",{className:"footer_txt footer_margin",children:["Made by ",Object(a.jsx)("a",{href:"https://github.com/Arboker",children:"Denis Lupookov"})]})]})}),x=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(p,{search:""}),Object(a.jsx)("div",{className:"error_weather",style:{marginTop:50},children:Object(a.jsxs)("div",{className:"error_weather",children:[Object(a.jsx)("img",{src:o,alt:"Error",className:"error_image"}),Object(a.jsx)("span",{className:"error_text",children:"The data was not found!"})]})})]})},f=(c(32),function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(i.c,{children:[Object(a.jsx)(i.a,{exact:!0,path:"typescript_WeatherApp/",children:Object(a.jsx)(u,{})}),Object(a.jsx)(i.a,{path:"typescript_WeatherApp/forecast/:city",children:Object(a.jsx)(m,{})}),Object(a.jsx)(i.a,{path:"typescript_WeatherApp/:city/:day",children:Object(a.jsx)(O,{})}),Object(a.jsx)(i.a,{component:x})]})})}),_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(a.jsx)(j.a,{children:Object(a.jsx)(f,{})}),document.getElementById("root")),_()}},[[33,1,2]]]);
//# sourceMappingURL=main.80d6dcbe.chunk.js.map